[{"/Users/fadyfarag/Documents/etc/fb_whatsapp/src/index.js":"1","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/App.js":"2","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/reportWebVitals.js":"3","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/Sidebar.js":"4","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/SidebarChat.js":"5","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/Chat.js":"6","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/firebase.js":"7","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/Login.js":"8","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/StateProvider.js":"9","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/reducer.js":"10"},{"size":689,"mtime":1609126689395,"results":"11","hashOfConfig":"12"},{"size":1166,"mtime":1609296755011,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1608664727523,"results":"14","hashOfConfig":"12"},{"size":1944,"mtime":1609294633985,"results":"15","hashOfConfig":"12"},{"size":1524,"mtime":1609192045685,"results":"16","hashOfConfig":"12"},{"size":3570,"mtime":1609295554349,"results":"17","hashOfConfig":"12"},{"size":583,"mtime":1608948197300,"results":"18","hashOfConfig":"12"},{"size":1023,"mtime":1609126978477,"results":"19","hashOfConfig":"12"},{"size":362,"mtime":1609126227358,"results":"20","hashOfConfig":"12"},{"size":423,"mtime":1609295107296,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1idxgqo",{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"24"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/Users/fadyfarag/Documents/etc/fb_whatsapp/src/index.js",[],["48","49"],"/Users/fadyfarag/Documents/etc/fb_whatsapp/src/App.js",["50","51"],"import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport './App.css';\nimport Chat from \"./Chat\";\nimport Sidebar from \"./Sidebar\";\nimport Login from \"./Login\";\nimport firebase from \"firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport { actionTypes } from './reducer';\n\nfunction App() {\n\n  const [{ user }, dispatch] = useStateValue();\n\n  useEffect(() => (\n    firebase.auth().onAuthStateChanged( (user) => {\n      if (user) {\n        console.log(\"User is logged in\")\n        dispatch({\n            type: actionTypes.SET_USER,\n            user: user,\n        });\n      }\n    })\n  ), [user]);\n\n  return (\n    <div className=\"app\">\n      {!user ? (\n        <Login/>\n      ) : (\n        <div className=\"app__body\">\n        <Router>\n        <Sidebar/>\n          <Switch>\n            \n            <Route path=\"/rooms/:roomId\" >              \n              <Chat/>   \n              \n            </Route>\n\n            <Route path=\"/\" >\n              <Chat/>   \n            </Route>\n\n          </Switch>\n        </Router>\n      </div> \n      )}\n    </div>\n  );\n}\n\nexport default App;\n","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/reportWebVitals.js",[],"/Users/fadyfarag/Documents/etc/fb_whatsapp/src/Sidebar.js",["52"],"import { Avatar, IconButton } from '@material-ui/core';\nimport { Chat, DonutLarge, MoreVert, SearchOutlined } from '@material-ui/icons';\nimport React, { useEffect, useState } from 'react';\nimport './Sidebar.css';\nimport SidebarChat from './SidebarChat';\nimport db from './firebase';\nimport { useStateValue } from './StateProvider';\n\nfunction Sidebar(props) {\n\n    const [rooms, setRooms] = useState([]);\n    const [{ user }, dispatch] = useStateValue();\n\n    useEffect(() => {\n        db.collection('rooms').onSnapshot(snapshot => {\n            setRooms(snapshot.docs.map(doc => (\n                {\n                    id: doc.id,\n                    data: doc.data()\n                }\n            )))\n        })\n    }, []);\n\n    return (\n        <div className=\"sidebar\">\n            <div className=\"sidebar__header\">\n                <Avatar src={user?.photoURL} />\n                <div className=\"sidebar__headerRight\">\n                    <IconButton>\n                        <DonutLarge/>                        \n                    </IconButton>\n                    <IconButton>\n                        <Chat/>\n                    </IconButton>\n                    <IconButton>\n                        <MoreVert/>\n                    </IconButton>\n                </div>    \n            </div>  \n            <div className=\"sidebar__search\">\n                <div className=\"sidebar__searchContainer\">\n                    <SearchOutlined/> \n                    <input className=\"sidebar__input\" placeholder=\"Search or start new chat\" type=\"text\"/>\n                </div>\n            </div>  \n            <div className=\"sidebar__chats\">\n                <SidebarChat addNewChat/>    \n                {\n                    rooms.map(room => (\n                        <SidebarChat key={room.id} id={room.id} name={room.data.name}/>\n                    ))\n                } \n            </div>  \n        </div>\n    );\n}\n\nexport default Sidebar;","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/SidebarChat.js",[],"/Users/fadyfarag/Documents/etc/fb_whatsapp/src/Chat.js",["53"],"import { Avatar, IconButton } from '@material-ui/core';\nimport { AttachFile, DonutLarge, InsertEmoticon, Mic, MoreVert } from '@material-ui/icons';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './Chat.css';\nimport db from './firebase';\nimport { useStateValue } from './StateProvider';\nimport firebase from \"firebase\";\n\nfunction Chat(props) {\n\n    const [input, setInput] = useState('');\n    const [seed, setSeed] = useState('');\n    const { roomId } = useParams();\n    const [roomName, setRoomName] = useState(\"\");\n    const [messages, setMessages] = useState([]);\n    const [{ user }, dispatch] = useStateValue();\n\n    useEffect (() => {\n        if (roomId) {\n            db.collection('rooms').doc(roomId).onSnapshot(snapshot => {\n                setRoomName(snapshot.data().name)\n            })\n\n            db.collection('rooms').doc(roomId)\n              .collection('messages')\n              .orderBy('timestamp', 'asc')\n              .onSnapshot(snapshot => (\n                  setMessages(snapshot.docs.map((doc) => doc.data()))\n              ));\n        }\n    }, [roomId]);\n\n    useEffect(() => {\n        setSeed(Math.floor(Math.random() * 500));\n    }, []);\n\n    const sendMessage = (e) => {\n        e.preventDefault();\n        console.log(input);\n\n\n        db.collection('rooms').doc(roomId)\n              .collection('messages').add({\n                message: input,\n                name: user.displayName,\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n              });\n\n        setInput('');\n    };\n\n    return (\n        <div className=\"chat\">\n            <div className=\"chat__header\">\n                <Avatar src={`https://avatars.dicebear.com/4.5/api/human/${seed}.svg` }/>\n                <div className=\"chat__headerInfo\">\n                    <h3>{roomName}</h3>\n                    <p> Last seen &nbsp; \n                       { new Date(messages[messages.length - 1]?.timestamp?.toDate()).toUTCString()}\n                    </p>\n                </div>\n                <div className=\"chat__headerRight\">\n                    <IconButton>\n                        <DonutLarge/>                        \n                    </IconButton>\n                    <IconButton>\n                        <AttachFile/>\n                    </IconButton>\n                    <IconButton>\n                        <MoreVert/>\n                    </IconButton>\n                </div>\n             </div>\n            <div className=\"chat__body\">\n\n                {messages.map((message) => (\n                    <p className={`chat__message ${message.name === user.displayName && 'chat__reciever'} `}>\n                        <span className=\"chat__name\" >\n                            {message.name}\n                        </span>\n                        {message.message}\n                        <span className=\"chat__timestamp\" >\n                            {new Date(message.timestamp?.toDate()).toUTCString()}\n                        </span>\n                    </p>\n                ))}\n            </div>\n            <div className=\"chat__footer\">\n                <InsertEmoticon/>\n                <form>\n                    <input value={input} onChange={e => {\n                        setInput(e.target.value)\n                    }} placeholder=\"Type a message...\" type=\"text\"></input>\n                    <button onClick={sendMessage} type=\"submit\"></button>\n                </form>\n                <Mic/>\n            </div>\n        </div>\n    );\n}\n\nexport default Chat;","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/firebase.js",["54"],"import firebase from \"firebase\";\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCsZElUnh7twW4xjEOVyKyBfrc92kbICjQ\",\n    authDomain: \"fb-whatsapp-17ac0.firebaseapp.com\",\n    projectId: \"fb-whatsapp-17ac0\",\n    storageBucket: \"fb-whatsapp-17ac0.appspot.com\",\n    messagingSenderId: \"208266287975\",\n    appId: \"1:208266287975:web:19c94d431f5e5c17022dc2\"\n  };\n\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n  \nconst db = firebase.firestore();\nconst auth = firebase.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport {auth, provider};\nexport default db;","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/Login.js",["55"],"import { Button } from '@material-ui/core';\nimport React from 'react';\nimport { auth, provider } from './firebase';\nimport './Login.css';\nimport { actionTypes } from './reducer';\nimport { useStateValue } from './StateProvider';\n\nfunction Login(props) {\n\n    const [{}, dispatch] = useStateValue();\n\n    const signIn = () => {\n        auth.signInWithPopup(provider).then((result) => {\n            // console.log(result);\n            dispatch({\n                type: actionTypes.SET_USER,\n                user: result.user,\n            });\n        }).catch((error) => {\n            alert(error.message);\n        })\n    }\n\n    return (\n        <div className=\"login\" >\n            <div className=\"login__container\" >\n\n                <div className=\"login__text\" >\n                    <h1>Sign in to WhatsApp</h1>\n                </div>\n\n                <Button type=\"submit\" onClick={signIn} >\n                    Sign In with Google\n                </Button>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;","/Users/fadyfarag/Documents/etc/fb_whatsapp/src/StateProvider.js",[],"/Users/fadyfarag/Documents/etc/fb_whatsapp/src/reducer.js",[],{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":1,"column":28,"nodeType":"62","messageId":"63","endLine":1,"endColumn":36},{"ruleId":"64","severity":1,"message":"65","line":25,"column":6,"nodeType":"66","endLine":25,"endColumn":12,"suggestions":"67"},{"ruleId":"60","severity":1,"message":"68","line":12,"column":22,"nodeType":"62","messageId":"63","endLine":12,"endColumn":30},{"ruleId":"60","severity":1,"message":"68","line":17,"column":22,"nodeType":"62","messageId":"63","endLine":17,"endColumn":30},{"ruleId":"60","severity":1,"message":"69","line":13,"column":7,"nodeType":"62","messageId":"63","endLine":13,"endColumn":18},{"ruleId":"70","severity":1,"message":"71","line":10,"column":12,"nodeType":"72","messageId":"73","endLine":10,"endColumn":14},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["76"],"'dispatch' is assigned a value but never used.","'firebaseApp' is assigned a value but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-global-assign","no-unsafe-negation",{"desc":"77","fix":"78"},"Update the dependencies array to be: [dispatch, user]",{"range":"79","text":"80"},[673,679],"[dispatch, user]"]